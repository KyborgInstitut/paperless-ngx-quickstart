# Paperless-ngx Configuration
# Copy this file to .env and customize

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# Database password (internal use between containers)
PAPERLESS_DB_PASSWORD=changeme

# Secret key for Django - generate with: openssl rand -base64 32
PAPERLESS_SECRET_KEY=generate-a-random-secret-key-here

# Admin user (created on first run only)
PAPERLESS_ADMIN_USER=admin
PAPERLESS_ADMIN_PASSWORD=changeme

# =============================================================================
# LOCALIZATION
# =============================================================================

# OCR language (3-letter ISO code, e.g., eng, deu, fra)
# Multiple languages: eng+deu+fra
PAPERLESS_OCR_LANGUAGE=eng

# Timezone (e.g., UTC, Europe/Berlin, America/New_York)
PAPERLESS_TIME_ZONE=UTC

# =============================================================================
# OCR SETTINGS
# =============================================================================

# OCR mode: skip (only OCR if no text), redo (always OCR), force (OCR everything)
PAPERLESS_OCR_MODE=skip

# Number of pages to OCR (0 = all pages)
PAPERLESS_OCR_PAGES=0

# =============================================================================
# PERFORMANCE SETTINGS (optimized for large document collections)
# =============================================================================

# Redis cache size in MB - choose based on your document count:
#   128  = up to 1,000 documents
#   256  = 1,000 - 5,000 documents
#   512  = 5,000 - 20,000 documents (default)
#   1024 = 20,000 - 50,000 documents
#   2048 = 50,000 - 150,000 documents
#   4096 = 150,000 - 500,000 documents
#   8192 = 500,000 - 1,000,000 documents
#   Custom values are also supported (minimum 128 MB)
REDIS_CACHE_SIZE=512

# Number of web server workers (recommended: 1-2 per CPU core, max 4)
PAPERLESS_WEBSERVER_WORKERS=2

# Number of background task workers for OCR/processing
PAPERLESS_TASK_WORKERS=2

# Delay in seconds before updating search index (batches updates for performance)
# Higher values = better performance during bulk imports, slower search updates
PAPERLESS_INDEX_TASK_DELAY=300

# =============================================================================
# CONSUMER SETTINGS
# =============================================================================

# Polling interval in seconds (0 = use inotify, recommended for local storage)
# Set to 5-30 for network storage (NFS/SMB) if inotify doesn't work
PAPERLESS_CONSUMER_POLLING=0

# Delay between polling checks (only used if CONSUMER_POLLING > 0)
PAPERLESS_CONSUMER_POLLING_DELAY=5

# Retry count for failed consumption
PAPERLESS_CONSUMER_POLLING_RETRY_COUNT=5

# =============================================================================
# URL CONFIGURATION
# =============================================================================

# Public URL (set automatically by management script based on SSL mode)
PAPERLESS_URL=http://localhost
